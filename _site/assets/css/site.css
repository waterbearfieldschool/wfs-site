:root{
  --bg:#f7f7f5; --fg:#1f1f1f; --muted:#6b6b6b; --accent:#1c4d3a; --link:#0b6b50; --card:#ffffff; --hair:#e6e6e3;
  --shadow: 0 1px 2px rgba(0,0,0,.04), 0 8px 24px rgba(0,0,0,.06);
}
*{box-sizing:border-box}
body{overflow-x:hidden}
html,body{height:100%}
body{margin:0; font:16px/1.55 Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; color:var(--fg); background:var(--bg)}
a{color:var(--link); text-decoration-color: color-mix(in oklab, var(--link) 40%, transparent); text-underline-offset:2px}
a:hover{color:var(--accent)}
.wrap{display:grid; grid-template-columns: 320px 1fr; min-height:100vh; max-width:1200px; margin:0 auto}
aside{position:sticky; top:0; align-self:start; height:100dvh; padding:32px 24px; border-right:1px solid var(--hair); background:linear-gradient(180deg, #fafaf8, #f4f4f1)}
.contact-top{font-size:1rem; color:var(--muted); margin-bottom:2px; text-align:center}
.contact-button{color:var(--accent); text-decoration:none; font-weight:bold}
.contact-button:hover{color:var(--link)}
main{padding:20px 28px}
.brand{display:flex; align-items:center; gap:14px; margin-bottom:22px}
.brand .dot{width:12px; height:12px; border-radius:50%; background:var(--accent); box-shadow:0 0 0 4px color-mix(in oklab, var(--accent) 12%, transparent)}
h1{font-size:1.35rem; margin:0}
.brand-link{color:inherit; text-decoration:none}
.brand-hero{text-align:center; padding:20px 16px; background:var(--card); border-radius:16px; box-shadow:var(--shadow)}
.brand-hero h1{font-size:1.4rem; margin:0 0 10px; color:var(--accent)}
.brand-topics{font-size:0.9rem; color:#8B6914; margin:6px 0 12px; font-weight:500}
.brand-nav{margin-top:14px}
.brand-nav ul{list-style:none; padding:0; margin:0; display:flex; flex-direction:row; flex-wrap:wrap; gap:8px; justify-content:center}
@media (min-width:768px){.brand-nav ul{flex-wrap:nowrap}}
.brand-nav li{margin:0}
.brand-nav a{display:inline-block; padding:6px 12px; border-radius:20px; color:var(--fg); text-decoration:none; font-size:0.9rem; transition:all 0.2s ease}
.brand-nav a.active, .brand-nav a:hover{background:rgba(28,77,58,0.1); color:var(--accent)}
.brand-subtitle{font-size:1rem; color:var(--muted); margin:0 0 16px}
.tag{color:var(--muted); margin:6px 0 2px}
nav ul{list-style:none; padding:0; margin:0 0 18px; display:flex; flex-direction:column; gap:10px}
nav a{display:inline-block; padding:6px 10px; border-radius:12px; color:var(--fg)}
nav a.active, nav a:hover{background:var(--card); box-shadow:var(--shadow)}
.contact{margin-top:18px; display:flex; flex-wrap:wrap; gap:8px}
.chip{font-size:.9rem; padding:6px 10px; border:1px solid var(--hair); border-radius:999px; background:var(--card)}
section{margin:0 0 48px}
.section-title{font-weight:700; font-size:1.05rem; text-transform:uppercase; letter-spacing:.06em; color:var(--accent); margin:0 0 14px}
.hair{border-top:1px solid var(--hair); margin:18px 0 24px}
.news{display:flex; flex-direction:column; gap:14px}
.news .item{display:flex; gap:10px}
.news time{white-space:nowrap; color:var(--muted); font-variant-numeric:tabular-nums}
.grid{display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:14px}
.card{background:var(--card); border:1px solid var(--hair); border-radius:16px; overflow:hidden; box-shadow:var(--shadow); display:flex; flex-direction:column}
.thumb{aspect-ratio: 4/3; background:#dcdcd7; display:flex; align-items:center; justify-content:center; color:#666; font-size:.9rem; text-decoration:none; overflow:hidden; position:relative}
.thumb img{width:100%; height:100%; object-fit:cover}
.card-content{padding:14px}
.card h3{margin:0 0 6px; font-size:1rem}
.meta{color:var(--muted); font-size:.9rem; font-weight:600}
.meta-description{color:var(--muted); font-size:.85rem; margin-top:4px; line-height:1.4}
.list{display:flex; flex-direction:column; gap:10px}
.list .post{display:flex; gap:10px}
.read-more{margin-top:10px; padding-left:16px}
footer{padding:24px 0; color:var(--muted); font-size:.8rem; border-top:1px solid var(--hair); margin-top:24px}
.activity-bubbles{display:flex; flex-wrap:wrap; gap:.5rem; margin:12px 0}
.bubble{font-size:.9rem; padding:.35rem .6rem; background:rgba(28,77,58,.08); border:1px solid rgba(28,77,58,.2); border-radius:999px; color:var(--accent)}
.upcoming-label{font-size:.75rem; font-weight:700; color:var(--accent); text-transform:uppercase}
.slideshow-container{margin-top:16px; background:var(--card); border-radius:12px; overflow:hidden; box-shadow:var(--shadow)}
.slideshow{position:relative; max-width:100%; margin:auto}
.slide{display:none; position:relative}
.slide.active{display:block}
.slide img{width:100%; aspect-ratio:1/1; object-fit:cover}
main .slideshow-container{margin-top:0; max-width:600px; margin-left:auto; margin-right:auto}
main .slide img{aspect-ratio:1/1}
@media (max-width:768px){main .slideshow-container{max-width:100%; width:100%} main .slide img{aspect-ratio:1/1}}
.slideshow-dots{text-align:center; padding:8px; background:var(--card)}
.dot{cursor:pointer; height:10px; width:10px; margin:0 3px; background-color:var(--hair); border-radius:50%; display:inline-block; transition:background-color 0.3s ease}
.dot.active, .dot:hover{background-color:var(--accent)}
.corner-flag{position:absolute; top:0; right:0; width:0; height:0; border-style:solid; border-width:0 65px 65px 0; border-color:transparent var(--accent) transparent transparent}
.corner-flag::after{content:'UPCOMING'; position:absolute; top:19px; right:-70px; transform:rotate(45deg); font-size:.6rem; font-weight:700; color:white; text-transform:uppercase; letter-spacing:.3px}
.section-separator{border-top:1px solid var(--hair); margin:48px 0}
.about-hero{text-align:center; margin:40px 0 60px; padding:40px 20px; background:var(--card); border-radius:16px; box-shadow:var(--shadow)}
.contact-hero{text-align:center; margin:0 0 40px; padding:20px 16px; background:var(--card); border-radius:16px; box-shadow:var(--shadow)}
.contact-hero h2{margin:0 0 16px; color:var(--accent); font-size:clamp(1.4rem, 4vw, 1.8rem)}
.contact-grid{display:grid; gap:20px; grid-template-columns:1fr; width:100%; max-width:100%}
@media (min-width:768px){.contact-grid{grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:24px}}
.contact-card{background:var(--card); border:1px solid var(--hair); border-radius:16px; padding:20px; box-shadow:var(--shadow); width:100%; max-width:100%; overflow-wrap:break-word}
.contact-card h3{margin:0 0 16px; color:var(--accent); font-size:clamp(1.1rem, 3vw, 1.3rem)}
.contact-email{font-size:clamp(1rem, 3vw, 1.2rem); margin:16px 0}
.contact-email a{color:var(--accent); font-weight:600; text-decoration:none; padding:8px 12px; border:2px solid var(--accent); border-radius:8px; display:inline-block; transition:all 0.2s ease; word-break:break-all; max-width:100%}
.contact-email a:hover{background:var(--accent); color:white}
.contact-note{font-size:0.9rem; color:var(--muted); font-style:italic}
.contact-list{margin:16px 0 0 16px; line-height:1.6; padding-right:8px}
.contact-list li{margin:8px 0; word-wrap:break-word}
.about-hero h1{font-size:2.5rem; margin:0 0 16px; color:var(--accent)}
.hero-subtitle{font-size:1.2rem; color:var(--muted); margin:0}
.hero-topics{font-size:1.1rem; color:#8B6914; margin:8px 0 16px; font-weight:500}
.about-grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:24px; margin:40px 0}
.about-card{background:var(--card); border:1px solid var(--hair); border-radius:16px; padding:24px; box-shadow:var(--shadow)}
.about-card h3{margin:0 0 16px; color:var(--accent); font-size:1.2rem; text-align:center}
.what-we-do{background:var(--card); border:1px solid var(--hair); border-radius:16px; padding:32px; box-shadow:var(--shadow); margin:40px 0}
.what-we-do h2{margin:0 0 24px; color:var(--accent); font-size:1.8rem; text-align:center}
.activities-list{list-style:none; padding:0; margin:0}
.activities-list li{margin:0 0 16px; padding:12px 16px; background:rgba(28,77,58,.03); border-radius:8px; line-height:1.5}
.activities-list li:last-child{margin-bottom:0}
.activities-list strong{color:var(--accent)}
@media (max-width: 880px){
  .wrap{grid-template-columns: 1fr}
  aside{position:static; height:auto; padding:14px 18px; border-right:none}
  .brand{justify-content:center; margin-bottom:16px}
  .brand-hero{margin:0 auto; max-width:400px}
  nav{display:block}
  nav ul{flex-direction:row; flex-wrap:wrap; justify-content:center; gap:8px; margin:12px 0}
  nav a{font-size:0.9rem; padding:4px 8px}
  main{padding:4px 18px 12px}
  .grid{grid-template-columns: 1fr 1fr}
}
@media (max-width:560px){
  .grid{grid-template-columns: 1fr}
  .news .item, .list .post{flex-direction:column}
  .prose img{max-width:100%}
  .prose table{width:100%; margin:16px 0}
}
.prose h1{font-size:1.6rem; margin:0 0 8px}
.prose .meta{margin-bottom:18px; color:var(--muted)}
.prose img{max-width:50%; height:auto; border-radius:8px; margin:16px 0; display:block}
.prose table{border-collapse:collapse; margin:16px auto; border:1px solid var(--hair); border-radius:8px; overflow:hidden; background:var(--card); width:75%}
.prose table img{margin:0 auto; border-radius:0; width:100%; display:block}
.prose table th{padding:12px 4px; border:none; background:transparent; text-align:center}
.prose table td{padding:12px 16px; border:none; border-top:1px solid var(--hair); color:var(--muted); font-size:0.9rem; line-height:1.4}
.prose table tr:first-child td{border-top:none}
.thumbnail-gallery{display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:16px; margin:24px 0}
.thumbnail-item{background:var(--card); border:1px solid var(--hair); border-radius:8px; overflow:hidden; box-shadow:var(--shadow)}
.thumbnail-item a{display:block}
.thumbnail-item img{width:100% !important; max-width:100% !important; height:180px; object-fit:cover; display:block; border-radius:0; margin:0 !important}
.thumbnail-caption{padding:12px; font-size:0.9rem; color:var(--muted); text-align:center}
@media (max-width:560px){
  .thumbnail-gallery{grid-template-columns:repeat(auto-fit, minmax(150px, 1fr)); gap:12px}
  .thumbnail-item img{height:120px}
  .thumbnail-caption{padding:8px; font-size:0.85rem}
}
.prose .float-left{float:left !important; margin:19px 24px 19px 0 !important; max-width:40%; border-radius:8px; clear:none !important}
.prose .float-right{float:right !important; margin:19px 0 19px 24px !important; max-width:40%; border-radius:8px; clear:none !important}
.float-small{max-width:25%}
.float-medium{max-width:40%}
.float-large{max-width:60%}
.float-figure{display:inline-block; background:var(--card); border:1px solid var(--hair); border-radius:8px; overflow:hidden; box-shadow:var(--shadow)}
.float-figure.float-left{display:block; margin:19px auto !important; max-width:70%; clear:both; float:none !important}
.float-figure.float-right{display:block; margin:19px auto !important; max-width:70%; clear:both; float:none !important}
.float-figure img{width:100% !important; max-width:100% !important; height:auto; display:block; border-radius:0; margin:0 !important}
.float-figure video{width:100% !important; max-width:100% !important; height:auto; display:block; border-radius:0; margin:0 !important}
.float-figure .float-caption{padding:8px 12px; font-size:0.95rem; color:var(--muted); text-align:left; background:var(--card)}
/* Desktop: limit vertical image height to viewport */
@media (min-width:768px){
  /* Force container to exactly fit content - absolute positioning approach */
  .float-figure,
  div.float-figure,
  .float-figure.float-left, 
  .float-figure.float-right,
  .prose .float-figure,
  .prose .float-figure.float-left, 
  .prose .float-figure.float-right,
  article .float-figure,
  main .float-figure,
  body .float-figure {
    display: inline-block !important;
    position: relative !important;
    width: auto !important;
    max-width: none !important;
    min-width: 0 !important;
    float: none !important;
    overflow: visible !important;
  }
  
  .float-figure img{max-height:70vh; width:auto !important; object-fit:contain; display:block !important}
  .float-figure video{max-height:70vh; width:auto !important; object-fit:contain; display:block !important}
  
  /* Position caption absolutely so it doesn't affect container width */
  .float-figure .float-caption{
    position: absolute !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100% !important;
    box-sizing: border-box !important;
    word-wrap: break-word !important;
    white-space: normal !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
    margin: 0 !important;
  }
}

@media (max-width:560px){
  .prose .float-left, .prose .float-right{float:none !important; margin:16px auto !important; max-width:80%; display:block}
  .float-figure.float-left, .float-figure.float-right{float:none !important; margin:16px auto !important; max-width:80%; display:block}
}
